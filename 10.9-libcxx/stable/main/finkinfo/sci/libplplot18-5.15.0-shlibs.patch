diff -Nurd plplot-5.15.0.orig/cmake/modules/TestForHighBitCharacters.c plplot-5.15.0/cmake/modules/TestForHighBitCharacters.c
--- plplot-5.15.0.orig/cmake/modules/TestForHighBitCharacters.c	2019-06-01 19:24:33.000000000 -0400
+++ plplot-5.15.0/cmake/modules/TestForHighBitCharacters.c	2023-11-06 02:09:15.000000000 -0500
@@ -1,3 +1,4 @@
+#include <stdlib.h>
 #include <ctype.h>
 #if ((' ' & 0x0FF) == 0x020)
 # define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
diff -Nurd plplot-5.15.0.orig/cmake/modules/aqt.cmake plplot-5.15.0/cmake/modules/aqt.cmake
--- plplot-5.15.0.orig/cmake/modules/aqt.cmake	2019-06-01 19:24:33.000000000 -0400
+++ plplot-5.15.0/cmake/modules/aqt.cmake	2023-11-06 02:08:38.000000000 -0500
@@ -36,8 +36,8 @@
   include(FindAQT)
   if(AQT_FOUND)
     message(STATUS "Found AQT: ${AQT_FRAMEWORK}")
-    set(aqt_COMPILE_FLAGS "-ObjC")
-    set(aqt_LINK_FLAGS "-framework AquaTerm -framework Foundation")
+    set(aqt_COMPILE_FLAGS "-ObjC -I@PREFIX@/include")
+    set(aqt_LINK_FLAGS "-lobjc -laquaterm -L@PREFIX@/lib -framework Foundation")
     set(DRIVERS_LINK_FLAGS ${DRIVERS_LINK_FLAGS} ${aqt_LINK_FLAGS})
   else(AQT_FOUND)
   set(PLD_aqt OFF CACHE BOOL "Enable aqt device" FORCE)
