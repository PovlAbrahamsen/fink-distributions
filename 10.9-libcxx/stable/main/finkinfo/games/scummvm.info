Package: scummvm
Version: 1.9.0
Revision: 1
Description: Engine for several graphical adventure games
License: GPL
Maintainer: Jack Fink <jackfink@users.sourceforge.net>
Source: https://downloads.scummvm.org/frs/scummvm/%v/%n-%v.tar.xz
Source-Checksum: SHA256(2417edcb1ad51ca05a817c58aeee610bc6db5442984e8cf28e8a5fd914e8ae05)
Depends: <<
	fluidsynth1-shlibs,
	freetype219-shlibs (>= 2.12.1-4),
	libcurl4-shlibs,
	libfaad2-shlibs,
	libflac12,
	libjpeg9-shlibs,
	libmad-shlibs (>= 0.15.1b-5),
	libogg-shlibs (>= 1.1.4-1),
	libpng16-shlibs,
	libtheoradec1-shlibs,
	libvorbis0-shlibs (>= 1.2.2-1),
	mpeg2dec-shlibs,
	readline8-shlibs,
	sdl2-net-shlibs,
	sdl2-shlibs (>= 2.20)
<<
BuildDepends: <<
	fink (>= 0.32),
	fink-package-precedence,
	fluidsynth1-dev,
	freetype219 (>= 2.12.1-4),
	libcurl4,
	libfaad2-dev,
	libflac12-dev,
	libjpeg9,
	libmad (>= 0.15.1b-5),
	libogg (>= 1.1.4-1),
	libpng16,
	libtheora0,
	libvorbis0 (>= 1.2.2-1),
	mpeg2dec-dev,
	readline8,
	sdl2 (>= 2.20),
	sdl2-net
<<
PatchScript: <<
	# sdl detection assumes v2.0.x, so fix for our current
	perl -pi -e 's|2\.0\.\*|2.2*.*|g' configure
	perl -pi -e 's|lSDL_net|lSDL2_net|g' configure
<<
GCC: 4.0
SetCFLAGS: -MD
SetCXXFLAGS: -I%p/lib/fluidsynth1/include
SetLDFLAGS: -L%p/lib/fluidsynth1/lib
ConfigureParams: <<
	--mandir=%p/share/man \
	--enable-release \
	--disable-seq-midi \
	--disable-timidity \
	--disable-updates \
	--enable-verbose-build \
	--disable-alsa \
	--disable-tremor \
	--enable-mpeg2 \
	--disable-sparkle \
	--disable-libunity \
	--disable-sndio \
	--enable-sdlnet \
	--enable-libcurl \
	--enable-text-console \
	--opengl-mode=auto
<<
CompileScript: <<
	#!/bin/sh -ev
	%{default_script}
	fink-package-precedence --depfile-ext='\.d' .
<<
InstallScript: <<
	#perl -pi -e "s,-c -s -m 644,-c -m 644," ports.mk
	make install DESTDIR=%d
<<
DocFiles: AUTHORS COPYING* NEWS README TODO
Homepage: https://www.scummvm.org
DescDetail: <<
	ScummVM is a 'virtual machine' for several classic graphical point-and-click 
	adventure games. It is designed to run Adventure Soft's Simon the 
	Sorcerer 1 and 2, Revolution's Beneath A Steel Sky, and games based on 
	LucasArts' SCUMM (Script Creation Utility for Maniac Mansion) system. 
	SCUMM is used for many games, including Monkey Island, Day of the 
	Tentacle, Sam and Max and more. See the official compatibility list at 
	<https://www.scummvm.org/compatibility/> for a full list of
	supported games.
<<
