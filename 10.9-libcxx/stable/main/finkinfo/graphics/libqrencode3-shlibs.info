Package: libqrencode3-shlibs
Version: 3.4.4
Revision: 1
Description: Library for encoding data in QR Code
DescDetail: <<
	Libqrencode is a C library for encoding data in a QR Code symbol, a
	kind of 2D symbology that can be scanned by handy terminals such as a
	mobile phone with CCD. The capacity of QR Code is up to 7000 digits or
	4000 characters, and is highly robust.

	Libqrencode supports QR Code model 2, described in JIS (Japanese
	Industrial Standards) X0510:2004 or ISO/IEC 18004.
<<
License: LGPL2+
Homepage: http://fukuchi.org/works/qrencode/index.en.html
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>

#Source: http://fukuchi.org/works/qrencode/qrencode-%v.tar.bz2
Source: https://github.com/fukuchi/libqrencode/archive/refs/tags/v%v.tar.gz
SourceRename: libqrencode-%v.tar.gz
Source-Checksum: SHA256(ab7cdf84e3707573a39e116ebd33faa513b306201941df3f5e691568368d87bf)

BuildDepends: <<
	autoconf2.6,
	automake1.15,
	fink-package-precedence,
	libpng16,
	libtool2,
	pkgconfig
<<

PatchScript: <<
	mkdir m4
<<

ConfigureParams: <<
	--disable-static
<<
CompileScript: <<
	autoreconf -fi
	%{default_script}
	fink-package-precedence --prohibit-bdep=libqrencode3 .
<<
InstallScript: <<
	make install DESTDIR=%d
<<

DocFiles: ChangeLog COPYING NEWS README TODO
Shlibs: %p/lib/libqrencode.3.dylib 8.0.0 %n (>= 3.4.2-1)

SplitOff: <<
	Package: libqrencode3
	Depends: %N (= %v-%r)
	BuildDependsOnly: true
	Conflicts: <<
		libqrencode3,
		libqrencode4
	<<
	# splitoff-files goof in qrencode vs libqrencode3 in v3.4.3 or before
	Replaces: <<
		qrencode (<< 3.4.4-1),
		libqrencode3,
		libqrencode4
	<<
		
	Files: <<
		include
		lib/libqrencode.{dylib,la}
		lib/pkgconfig
	<<
	
	DocFiles: ChangeLog COPYING NEWS README TODO
<<

SplitOff2: <<
	Package: qrencode
	Description: Utility to generate pngs from QR Codes
	
	Depends: %N (>= %v-%r), libpng16-shlibs
	
	Files: <<
		bin
		share/man
	<<
	
	DocFiles: ChangeLog COPYING NEWS README TODO
<<
