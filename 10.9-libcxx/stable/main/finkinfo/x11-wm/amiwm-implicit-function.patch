diff -ruN amiwm0.21pl2-orig/configure amiwm0.21pl2/configure
--- amiwm0.21pl2-orig/configure	2010-04-13 12:04:28.000000000 -0500
+++ amiwm0.21pl2/configure	2023-09-21 20:36:14.000000000 -0500
@@ -5253,6 +5253,7 @@
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
+#include <stdlib.h>
 
 int main()
 {
diff -ruN amiwm0.21pl2-orig/gram.y amiwm0.21pl2/gram.y
--- amiwm0.21pl2-orig/gram.y	2010-07-13 08:15:51.000000000 -0500
+++ amiwm0.21pl2/gram.y	2023-09-22 04:40:23.000000000 -0500
@@ -8,6 +8,9 @@
 #include "screen.h"
 #include "icc.h"
 #include "style.h"
+int yylex(void);
+int yyerror(char* s);
+    
 extern void set_sys_palette(void);
 extern void set_mwb_palette(void);
 extern void set_schwartz_palette(void);
diff -ruN amiwm0.21pl2-orig/icc.h amiwm0.21pl2/icc.h
--- amiwm0.21pl2-orig/icc.h	1998-03-15 16:16:18.000000000 -0600
+++ amiwm0.21pl2/icc.h	2023-09-21 20:54:30.000000000 -0500
@@ -4,6 +4,7 @@
 #include <X11/Xlib.h>
 #include <X11/Xatom.h>
 #include "client.h"
+#include <stdlib.h>
 
 extern void init_atoms(void);
 extern void sendcmessage(Window, Atom, long);
diff -ruN amiwm0.21pl2-orig/kbdmodule.y amiwm0.21pl2/kbdmodule.y
--- amiwm0.21pl2-orig/kbdmodule.y	1998-03-15 13:48:27.000000000 -0600
+++ amiwm0.21pl2/kbdmodule.y	2023-09-22 04:41:06.000000000 -0500
@@ -2,6 +2,8 @@
 #include <stdio.h>
 #include <string.h>
 #include "libami.h"
+int yylex(void);
+int yyerror(char* s);
 
 void docmd(XEvent *e, void *callback)
 {
diff -ruN amiwm0.21pl2-orig/libami/lists.c amiwm0.21pl2/libami/lists.c
--- amiwm0.21pl2-orig/libami/lists.c	1997-12-12 11:22:17.000000000 -0600
+++ amiwm0.21pl2/libami/lists.c	2023-09-21 20:35:34.000000000 -0500
@@ -1,4 +1,5 @@
 #include "libami.h"
+#include <string.h>
 
 #ifndef AMIGAOS
 
diff -ruN amiwm0.21pl2-orig/main.c amiwm0.21pl2/main.c
--- amiwm0.21pl2-orig/main.c	2010-07-18 08:13:20.000000000 -0500
+++ amiwm0.21pl2/main.c	2023-09-21 20:46:51.000000000 -0500
@@ -117,6 +117,7 @@
 extern void *getitembyhotkey(KeySym);
 extern void menuaction(void *);
 extern void screentoback();
+extern void closescreen(void);
 extern void openscreen(char *, Window);
 extern void realizescreens(void);
 extern Scrn *getscreenbyroot(Window);
diff -ruN amiwm0.21pl2-orig/menu.c amiwm0.21pl2/menu.c
--- amiwm0.21pl2-orig/menu.c	2010-07-18 08:11:26.000000000 -0500
+++ amiwm0.21pl2/menu.c	2023-09-21 20:51:53.000000000 -0500
@@ -46,6 +46,12 @@
 extern void setfocus(Window);
 extern void flushmodules();
 
+extern void screentoback();
+extern void closescreen(void);
+extern void openscreen(char *, Window);
+extern void realizescreens(void);
+extern void wberror(Scrn *, char *);
+
 Scrn *mbdclick=NULL, *mbdscr=NULL;
 
 static struct ToolItem {
