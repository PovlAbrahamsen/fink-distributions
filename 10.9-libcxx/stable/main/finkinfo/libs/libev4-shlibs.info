Package: libev4-shlibs
Version: 4.24
Revision: 3
Description: Event notification library
License: BSD
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>

Source: http://dist.schmorp.de/libev/libev-%v.tar.gz
Source-MD5: 94459a5a22db041dec6f98424d6efe54

PatchScript: <<
	# Patch configure to not link like Puma on Yosemite
	perl -pi.bak -e 's|10\.\[012\]\*|10.[012][,.]*|g' configure
<<

SetCFLAGS: -O2 -g -std=gnu99
ConfigureParams: --disable-dependency-tracking --disable-static

InstallScript: make install DESTDIR=%d
Shlibs: <<
	%p/lib/libev.4.dylib 5.0.0 %n (>= 4.15-1)
<<

Homepage: http://software.schmorp.de/pkg/libev.html
DescDetail: <<
	A full-featured and high-performance (see benchmark) event loop that
	is loosely modelled after libevent, but without its limitations and
	bugs.
<<
DocFiles: Changes LICENSE README

SplitOff: <<
	Package: libev4
	Depends: %N (= %v-%r)
	Conflicts: <<
		libev4,
		libevent1.4,
		libevent2,
		libevent2.1,
		libevent2.1.7
	<<
	Replaces: <<
		libev4,
		libevent1.4,
		libevent2,
		libevent2.1,
		libevent2.1.7
	<<
	BuildDependsOnly: true
	Files: <<
		include
		lib/libev.{dylib,la}
		share/man
	<<
	DocFiles: Changes LICENSE README
<<
